<template>
    <lightning-card title="Post Manager" icon-name="custom:custom63">
        <!-- Input Form -->
        <div class="slds-m-around_medium">
            <lightning-input label="Title" value={title} onchange={handleTitleChange}></lightning-input>
            <lightning-textarea label="Content" value={content} onchange={handleContentChange}></lightning-textarea>

            <template if:true={selectedPostId}>
                <lightning-button class="slds-m-top_small" label="Update Post" onclick={handleUpdate}></lightning-button>
            </template>
            <template if:false={selectedPostId}>
                <lightning-button class="slds-m-top_small" label="Create Post" onclick={handleCreate}></lightning-button>
            </template>
        </div>

        <!-- List of Posts -->
        <template if:true={posts}>
            <div class="slds-m-around_medium">
                <template for:each={posts} for:item="post">
                    <div key={post.Id} class="slds-box slds-m-bottom_small">
                        <h3><b>{post.Title__c}</b></h3>
                        <p>{post.Content__c}</p>
                        <p class="slds-text-color_weak">Created: {post.CreatedDate}</p>
                        <lightning-button variant="brand-outline" 
                                          data-id={post.Id} 
                                          label="Edit" 
                                          onclick={handleEdit}>
                        </lightning-button>
                    </div>
                </template>
            </div>
        </template>
    </lightning-card>
</template>
