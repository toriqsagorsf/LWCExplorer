<template>
    <lightning-card title="Post__c CRUD" icon-name="standard:article">
    <div class="slds-p-around_medium">

        <!-- Create / Edit form -->
        <div class="slds-box slds-m-bottom_medium">
            <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                    <lightning-input
                        label="Title"
                        value={form.title}
                        data-field="title"
                        onchange={handleInput}>
                    </lightning-input>
                </div>
                <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                        label="Content"
                        value={form.content}
                        data-field="content"
                        onchange={handleInput}>
                    </lightning-textarea>
                </div>
            </div>

            <div class="slds-m-top_small">
                <template if:false={isEditing}>
                <lightning-button variant="brand" label="Create" onclick={handleCreate}></lightning-button>
                </template>
                <template if:true={isEditing}>
                <lightning-button variant="brand" label="Save" class="slds-m-right_x-small" onclick={handleSave}></lightning-button>
                <lightning-button label="Cancel" onclick={handleCancel}></lightning-button>
                </template>
            </div>
        </div>

        <!-- List -->
        <lightning-datatable
            key-field="Id"
            data={rows}
            columns={columns}
            hide-checkbox-column
            onrowaction={handleRowAction}>
        </lightning-datatable>

    </div>
    </lightning-card>
</template>
